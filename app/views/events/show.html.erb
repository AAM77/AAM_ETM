<h1><%= @event.name %></h1>



<br>
<h2>This Event's Admin is: <%= link_to @admin.username, user_path(@admin) %></h2>
<br>
<br>


<h2>INCOMPLETE TASKS</h2>

<p>Sort by: Name | Task Type | Points Awarded | Max Participants | Join Status </p>

<div class="table-responsive">
  <%= form_tag user_complete_users_tasks_path, method: :patch do %>
    <table class="table border border-info">
      <thead class="thead bg-info text-white">
        <tr>
          <%= render partial: 'table_headers', locals: { event_instance: @event } %>
        </tr>
      </thead>

      <tbody>
        <% @event.tasks.not_complete.each do |task| %>
          <tr>
            <%= render partial: 'table_rows', locals: { event_instance: @event, task_instance: task } %>
          </tr>
        <% end %>
      </tbody>
    </table>
    <%= submit_tag "Mark as Complete", class: "btn btn-info" %>
    <% if user_is_event_admin(@event) %>
      <%= link_to "View as Admin", show_admin_event_path(@event), class: "btn btn-outline-primary" %>
    <% end %>
  <% end %>
</div>

<br>
<br>
<br>

<h2>COMPLETED TASKS</h2>

<p>Sort by: Name | Task Type | Points Awarded | Max Participants | Join Status </p>

<div class="table-responsive">
  <table class="table border border-info">
    <thead class="thead bg-info text-white">
      <%= render partial: 'table_headers', locals: { event_instance: @event } %>
    </thead>

    <tbody>
      <% @event.tasks.admin_marked_complete.each do |task| %>
        <tr>
          <%= render partial: 'table_rows', locals: { event_instance: @event, task_instance: task } %>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
